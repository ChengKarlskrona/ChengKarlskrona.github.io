<!DOCTYPE html>
<html>
    <head>
        <meta name="baidu-site-verification" content="9dtmr2U4H5" />
        <meta name="google-site-verification" content="x6k7knkmpTCLh6kFNs3JZVS6wUmetVakl9PNI3qMT_0" />
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Practice1：Tripadvisor Attractions Scapying with Python | Code_Cheng Site</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="This blog’s goal is spide all attractions in New York from TripAdvisor, and here is it’s address:[‘https://cn.tripadvisor.com/Attractions-g60763-Activities-New_York_City_New_York.html&amp;#39;] 1 BackGrou">
<meta name="keywords" content="python,Beautifulsoup,requests">
<meta property="og:type" content="article">
<meta property="og:title" content="Practice1：Tripadvisor Attractions Scapying with Python">
<meta property="og:url" content="http://clovel.cn/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/index.html">
<meta property="og:site_name" content="Code_Cheng Site">
<meta property="og:description" content="This blog’s goal is spide all attractions in New York from TripAdvisor, and here is it’s address:[‘https://cn.tripadvisor.com/Attractions-g60763-Activities-New_York_City_New_York.html&amp;#39;] 1 BackGrou">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://clovel.cn/images/trip_1.png">
<meta property="og:updated_time" content="2017-04-01T16:53:16.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Practice1：Tripadvisor Attractions Scapying with Python">
<meta name="twitter:description" content="This blog’s goal is spide all attractions in New York from TripAdvisor, and here is it’s address:[‘https://cn.tripadvisor.com/Attractions-g60763-Activities-New_York_City_New_York.html&amp;#39;] 1 BackGrou">
<meta name="twitter:image" content="http://clovel.cn/images/trip_1.png">
  
    <link rel="alternative" href="/atom.xml" title="Code_Cheng Site" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/img/photo.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Cheng Wang</a></h1>
		</hgroup>

		
		<p class="header-subtitle">python | html5 | javascript | database | Everything I Want</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>About</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">Homepage</a></li>
				        
							<li><a href="/categories/Notes">Notes</a></li>
				        
							<li><a href="/categories/python">Python</a></li>
				        
							<li><a href="/categories/WPF">WPF</a></li>
				        
							<li><a href="/archives">All Article</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/wang-cheng-19-62" title="zhihu">zhihu</a>
					        
								<a class="facebook" target="_blank" href="https://www.facebook.com/cheng.wang.5055233" title="facebook">facebook</a>
					        
								<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/cheng-wang-386a70138/" title="linkedin">linkedin</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/BeautifulSoup/" style="font-size: 13.33px;">BeautifulSoup</a> <a href="/tags/Beautifulsoup/" style="font-size: 10px;">Beautifulsoup</a> <a href="/tags/C/" style="font-size: 13.33px;">C#</a> <a href="/tags/Checkbox/" style="font-size: 10px;">Checkbox</a> <a href="/tags/Combobox/" style="font-size: 10px;">Combobox</a> <a href="/tags/Download/" style="font-size: 10px;">Download</a> <a href="/tags/Python/" style="font-size: 16.67px;">Python</a> <a href="/tags/Software-Engineering/" style="font-size: 10px;">Software Engineering</a> <a href="/tags/SqlServer/" style="font-size: 13.33px;">SqlServer</a> <a href="/tags/ToggleButton/" style="font-size: 10px;">ToggleButton</a> <a href="/tags/UWP/" style="font-size: 10px;">UWP</a> <a href="/tags/Urllib/" style="font-size: 10px;">Urllib</a> <a href="/tags/Urlretrieve/" style="font-size: 10px;">Urlretrieve</a> <a href="/tags/VSM/" style="font-size: 10px;">VSM</a> <a href="/tags/WPF/" style="font-size: 16.67px;">WPF</a> <a href="/tags/Webapp/" style="font-size: 10px;">Webapp</a> <a href="/tags/djongo/" style="font-size: 10px;">djongo</a> <a href="/tags/encoding/" style="font-size: 10px;">encoding</a> <a href="/tags/javascript/" style="font-size: 10px;">javascript</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/requests/" style="font-size: 13.33px;">requests</a> <a href="/tags/scraping/" style="font-size: 13.33px;">scraping</a> <a href="/tags/semantic/" style="font-size: 10px;">semantic</a> <a href="/tags/software-testing/" style="font-size: 10px;">software testing</a> <a href="/tags/sonarqube/" style="font-size: 10px;">sonarqube</a> <a href="/tags/static-analsis/" style="font-size: 10px;">static analsis</a> <a href="/tags/urllib/" style="font-size: 10px;">urllib</a> <a href="/tags/utf-8/" style="font-size: 10px;">utf-8</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="https://github.com/WangChengAction">我的github</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">BTH software engineering master, interested in running, coding and listening</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Cheng Wang</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/img/photo.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Cheng Wang</h1>
			</hgroup>
			
			<p class="header-subtitle">python | html5 | javascript | database | Everything I Want</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">Homepage</a></li>
		        
					<li><a href="/categories/Notes">Notes</a></li>
		        
					<li><a href="/categories/python">Python</a></li>
		        
					<li><a href="/categories/WPF">WPF</a></li>
		        
					<li><a href="/archives">All Article</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/wang-cheng-19-62" title="zhihu">zhihu</a>
			        
						<a class="facebook" target="_blank" href="https://www.facebook.com/cheng.wang.5055233" title="facebook">facebook</a>
			        
						<a class="linkedin" target="_blank" href="https://www.linkedin.com/in/cheng-wang-386a70138/" title="linkedin">linkedin</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="pages-Practice-1_-Tripadvisor-Attractions-Scapying-with-Python" class="article article-type-pages" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/" class="article-date">
  	<time datetime="2017-03-27T20:31:41.000Z" itemprop="datePublished">2017-03-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Practice1：Tripadvisor Attractions Scapying with Python
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Beautifulsoup/">Beautifulsoup</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/requests/">requests</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/python/">python</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        
            <div id="toc" class="toc-article">
                <strong class="toc-title">文章目录</strong>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-BackGround"><span class="toc-text">1 BackGround</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-Scapying-Process"><span class="toc-text">2 Scapying Process</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Summary"><span class="toc-text">3. Summary</span></a></li></ol>
            </div>
        
        <p>This blog’s goal is spide all attractions in New York from TripAdvisor, and here is it’s address:[‘<a href="https://cn.tripadvisor.com/Attractions-g60763-Activities-New_York_City_New_York.html&#39;]" target="_blank" rel="noopener">https://cn.tripadvisor.com/Attractions-g60763-Activities-New_York_City_New_York.html&#39;]</a></p>
<h1 id="1-BackGround"><a href="#1-BackGround" class="headerlink" title="1 BackGround"></a>1 BackGround</h1><p>First, we need understand the exchange mechanism between the server and local, that is our personal pc send a requests to the server, and when the server got the requests, it will make a response.<br>In Http 1.1, <code>Requests include eight methods: Post, Get, Head, Put, Options, Connect, Trace and Delete.</code> But the most commonly used is post and get. And when we crawl information with python, we are actually simulating these two methods.<br><a id="more"></a></p>
<h1 id="2-Scapying-Process"><a href="#2-Scapying-Process" class="headerlink" title="2 Scapying Process"></a>2 Scapying Process</h1><p>From the first image, we can see a attractions lists, each attraction has picture, title, review and label, and now we prepare to scapy these item.<br><img src="/images/trip_1.png" alt="&quot;image1&quot;"><br>But in the list of attractions, there are many activities of the collection and the recent activities, we do not need to crawl these two, so we need to remove them.<br>And the source code is:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="comment">#列表用format进行格式化，这样可以访问多页</span></span><br><span class="line">urls = [<span class="string">'https://cn.tripadvisor.com/Attractions-g60763-Activities-oa&#123;&#125;-New_York_City_New_York.html#ATTRACTION_LIST'</span>.format(str(i)) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">1080</span>,<span class="number">30</span>)]</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Linux; Android 5.0; SM-G900P Build/LRX21T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/56.0.2924.87 Mobile Safari/537.36'</span>,</span><br><span class="line">    <span class="string">'Cookie'</span>: <span class="string">'PMC=V2*MS.87*MD.20170326*LD.20170326;....etc.</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">def get_attractions(url,data=None):</span></span><br><span class="line"><span class="string">    resp = requests.get(url,headers=headers)</span></span><br><span class="line"><span class="string">    time.sleep(3)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    #使用text方法，使文件可读</span></span><br><span class="line"><span class="string">    soup = BeautifulSoup(resp.text,'</span>lxml<span class="string">')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    titles = soup.select('</span>a &gt; div.container.containerLLR &gt; div.title.titleLLR &gt; div.location<span class="string">')</span></span><br><span class="line"><span class="string">    images = soup.select('</span>div.thumb.thumbLLR.soThumb &gt; div<span class="string">')</span></span><br><span class="line"><span class="string">    tags = soup.select('</span>div.container.containerLLR &gt; div.attraction_types &gt; span<span class="string">')</span></span><br><span class="line"><span class="string">                                </span></span><br><span class="line"><span class="string">    if data == None:</span></span><br><span class="line"><span class="string">        for title,image,tag in zip(titles,images,tags):</span></span><br><span class="line"><span class="string">        #观察普通景点和活动集合，发现活动集合的第一个a的id都是a0，而普通景点的则是一串数,若Title的父级标签a的id不是a0，则执行，否则，不进行爬取。</span></span><br><span class="line"><span class="string">            if not title.find_parents(id='</span>a0<span class="string">'):</span></span><br><span class="line"><span class="string">                data = &#123;</span></span><br><span class="line"><span class="string">                    #replace是将获得的文本中前后的\n符号替换成空格</span></span><br><span class="line"><span class="string">                    '</span>title<span class="string">': title.get_text().replace('</span>\n<span class="string">','</span><span class="string">'),</span></span><br><span class="line"><span class="string">                    #image直接爬取失败，有反爬。采用移动端，并且发现img上方div标签的data-thumburl的值，与img的src相同，所以我们可以爬取data-thumbuel</span></span><br><span class="line"><span class="string">                    '</span>image<span class="string">': image.get('</span>data-thumburl<span class="string">'),</span></span><br><span class="line"><span class="string">                    '</span>tag<span class="string">': tag.get_text(),</span></span><br><span class="line"><span class="string">                &#125;</span></span><br><span class="line"><span class="string">                print('</span>Title: <span class="string">'+data['</span>title<span class="string">']+'</span>\n<span class="string">'+'</span>Image: <span class="string">'+data['</span>image<span class="string">']+'</span>\n<span class="string">'+'</span>Tag: <span class="string">'+data['</span>tag<span class="string">'] )</span></span><br><span class="line"><span class="string">                pritn('</span>================================<span class="string">')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">for url in urls:</span></span><br><span class="line"><span class="string">    get_attractions(url)</span></span><br></pre></td></tr></table></figure></p>
<p>And we can see the result:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Title: 中央公园</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-l/09/58/1e/b1/central-park.jpg</span><br><span class="line">Tag: 景点与地标, 公园, 景观步行区</span><br><span class="line">==============================</span><br><span class="line">Title: 9/11纪念馆</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-l/09/49/10/a9/img-20151021-134637-largejpg.jpg</span><br><span class="line">Tag: 专业博物馆, 景点与地标, 纪念碑与雕像, 历史景点</span><br><span class="line">==============================</span><br><span class="line">Title: 大都会艺术博物馆</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-f/04/22/1c/fc/metropolitan-museum-of.jpg</span><br><span class="line">Tag: 景点与地标, 艺术博物馆</span><br><span class="line">==============================</span><br><span class="line">Title: 峭石之巅观景台</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-l/06/79/60/b4/observatorio-top-of-the.jpg</span><br><span class="line">Tag: 观察台与观景塔, 瞭望台</span><br><span class="line">==============================</span><br><span class="line">Title: 曼哈顿天际线</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-f/01/b8/fc/53/manhattan-skyline.jpg</span><br><span class="line">Tag: 景点与地标</span><br><span class="line">==============================</span><br><span class="line">Title: 大中央车站</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-l/08/8e/db/95/the-largest-tiffany-glass.jpg</span><br><span class="line">Tag: 景点与地标</span><br><span class="line">==============================</span><br><span class="line">Title: 百老汇</span><br><span class="line">Image: https://media-cdn.tripadvisor.com/media/photo-l/07/e1/9f/a5/broadway.jpg</span><br><span class="line">Tag: 景观步行区, 公园</span><br><span class="line">==============================</span><br></pre></td></tr></table></figure></p>
<p>Due to we can not scrapying image address on the web page, so we try to scrapy the mobile pages, now, we choose GalaxyS5 as our test goals. Google Developer Tools is a perfect helper, we can use it to finish this step.<br>If we want to scrapying much pages, we need understand the rules of the website, we can see:<br><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#This is the first pages' url</span></span><br><span class="line">https:<span class="string">//cn.tripadvisor.com/Attractions-g60763-Activities-New_York_City_New_York.html</span></span><br><span class="line"><span class="comment">#This is the second, the third and the last pages' url:</span></span><br><span class="line">https:<span class="string">//cn.tripadvisor.com/Attractions-g60763-Activities-oa30-New_York_City_New_York.html</span></span><br><span class="line">https:<span class="string">//cn.tripadvisor.com/Attractions-g60763-Activities-oa60-New_York_City_New_York.html</span></span><br><span class="line"><span class="string">...</span></span><br><span class="line">https:<span class="string">//cn.tripadvisor.com/Attractions-g60763-Activities-oa1050-New_York_City_New_York.html</span></span><br></pre></td></tr></table></figure></p>
<p>It’s easy to find, each url has a little different, the number after oa, and the interval is 30, so we can built a list of expressions:<br><code>[&#39;https://cn.tripadvisor.com/Attractions-g60763-Activities-oa{}-New_York_City_New_York.html&#39;.format(str(i)) for i in range(0,1080,30)]</code>,it can show all urls.<br>And we can use a simple code test this:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>urls = [<span class="string">'https://cn.tripadvisor.com/Attractions-g60763-Activities-oa&#123;&#125;-New_York_City_New_York.html'</span>.format(str(i)) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">1080</span>,<span class="number">30</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line"><span class="meta">... </span>    print(url)</span><br><span class="line">...</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa0-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa30-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa60-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa90-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa120-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa150-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa180-New_York_City_New_York.html</span><br><span class="line">https://cn.tripadvisor.com/Attractions-g60763-Activities-oa210-New_York_City_New_York.html</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>So, we got it.<br>And when we want to scrapying the image address, we can not use the image’s src, because it maybe has an anti-crawling system, but it’s easy to find it’s parent’s lable has an attributes named <code>data-thumburl</code>, and it’s value is the same like the images’ src, so we can make some change, to scrapying this attributes.</p>
<h1 id="3-Summary"><a href="#3-Summary" class="headerlink" title="3. Summary"></a>3. Summary</h1><p>Scrapying do not have a fixed format, as long as you can crawl the information you need, that is correct. So, we have to observe more, try, learn from a different perspective on the problem.</p>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/31/Practice-2_-Download-Scarlett-Pictures-From-WeHeartit-With-Python/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Practice2：Download Scarlet Witch&#39;s Picture From WeHeartit WebSite
        
      </div>
    </a>
  
  
    <a href="/2016/05/31/Python_2_Exploring-Urllib-Library/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Python专栏之二：Urllib库</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>


  
  
    <div class ="post-donate">
    <div id="donate_board" class="donate_bar center">
        <a id="btn_donate" class="btn_donate" href="javascript:;" title="打赏"></a>
        <span class="donate_txt">
            &uarr;<br>
                    Thank you！
        </span>
        <br>
    </div>  
    <div id="donate_guide" class="donate_bar center hidden" >
            <!-- 支付宝打赏图案 -->
            <img src="/img/zhifubao.jpg" alt="支付宝打赏"> 
            <!-- 微信打赏图案 -->
            <img src="/img/weixin.jpg" alt="微信打赏">  
    </div>
    <script type="text/javascript">
        document.getElementById('btn_donate').onclick = function(){
            $('#donate_board').addClass('hidden');
            $('#donate_guide').removeClass('hidden');
        }
    </script>
</div>

  
  
    <div class="article-footer-copyright">
    <p><span>本文标题:</span><a href="/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/">Practice1：Tripadvisor Attractions Scapying with Python</a></p>
    <p><span>文章作者:</span><a href="/" title="请访问 Cheng Wang 博客">Cheng Wang</a></p>
    <p><span>发布时间:</span>2017/03/27 - 22:31:41</p>
    <p><span>最后更新:</span>2017/04/01 - 18:53:16</p>
    <p>
        <span>原始链接:</span><a class="post-url" href="/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/" title="Practice1：Tripadvisor Attractions Scapying with Python">http://clovel.cn/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/</a>
        <span class="copy-path" data-clipboard-text="原文: http://clovel.cn/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/　　作者: Cheng Wang" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
        <script src="/js/clipboard.min.js"></script>
        <script> var clipboard = new Clipboard('.copy-path'); </script>
    </p>
    <p>
        <span>许可协议:</span><i class="fa fa-creative-commons"></i><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="中国大陆 (CC BY-NC-SA 4.0 CN)"> 知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议</a>
    </p>
</div>

  
</article>


<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
    <a class="jiathis_button_twitter"></a>
    <a class="jiathis_button_plus"></a> 
    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="http://v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>






<div class="duoshuo">
	<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="Practice-1_-Tripadvisor-Attractions-Scapying-with-Python" data-title="Practice1：Tripadvisor Attractions Scapying with Python" data-url="http://clovel.cn/2017/03/27/Practice-1_-Tripadvisor-Attractions-Scapying-with-Python/"></div>
	<!-- 多说评论框 end -->
	<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"true"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0] 
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
	<!-- 多说公共JS代码 end -->
</div>




</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 Cheng Wang
    	</div>
        <div class="footer-center">
            <span id="busuanzi_container_site_uv">
            本站访客数<span id="busuanzi_value_site_uv"></span>人次
            </span>
            <span id="busuanzi_container_page_pv">
            本文总阅读量<span id="busuanzi_value_page_pv"></span>次
            </span>
        </div>
    </div>
  </div>
</footer>
<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>



<div>
   <a href="javascript:;" id="totop" title="回到顶部"></a> 
</div>

<script src="/js/totop.js"></script>

<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  </div>
</body>
</html>